    <nav class="nav">
      <div class="nav-container">
        <div class="nav-left">
          <!-- Mobile Menu Toggle -->
          <button 
            class="mobile-menu-toggle" 
            [class.active]="showMobileMenu"
            (click)="toggleMobileMenu()"            
          >
            <i class="fas fa-bars"></i>
          </button>
          
          <!-- Categories Dropdown -->
          <div class="categories-dropdown" [class.active]="showCategoriesDropdown">
            <button 
              class="categories-btn" 
              (click)="toggleCategoriesDropdown()"
              [disabled]="isMobile()"              
            >
              <i class="fas fa-bars"></i> {{ 'HEADER.MENU.CATEGORIES' | translate }}
              <span class="dropdown-arrow">
                <i class="fas fa-chevron-down" [class.rotated]="showCategoriesDropdown"></i>
              </span>
            </button>
            
            <!-- Mega Menu Component -->
            <app-mega-menu 
              [isOpen]="showCategoriesDropdown || showMobileMenu"
              (closeMenu)="closeMegaMenu()"
            ></app-mega-menu>
          </div>
          
          <!-- Featured Categories -->
          <div class="featured-categories" *ngIf="!isMobile()">
            <a 
              *ngFor="let category of featuredCategories" 
              [routerLink]="category.url" 
              class="category-item"
              [class.active]="category.active"
            >
              {{ category.name }}
            </a>
          </div>
        </div>
        
        <!-- User Actions (Desktop only) -->
        <div class="user-actions" *ngIf="!isMobile()">
          <ng-container *ngIf="isHydrated() && !isLoading()">
            <!-- Si NO está logueado -->
            <ng-container *ngIf="!isLoggedIn()">
              <button (click)="login()" class="btn-secondary">
                {{ 'HEADER.MENU.LOGIN' | translate }}
              </button>
              <button (click)="register()" class="btn-primary">
                {{ 'HEADER.MENU.REGISTER' | translate }}
              </button>
            </ng-container>          
            
            <!-- Si está logueado - Menú Mi Cuenta -->
            <ng-container *ngIf="isLoggedIn()">
              <span class="user-greeting">¡{{ 'HEADER.MENU.HELLO' | translate }}, {{ getUsername() }}!</span>
              
              <!-- Dropdown Mi Cuenta -->
              <div class="account-dropdown" [class.active]="showAccountDropdown">
                <button 
                  class="account-btn" 
                  (click)="toggleAccountDropdown()"
                >
                  <i class="fas fa-user-circle"></i> {{ 'HEADER.MENU.MY_ACCOUNT' | translate }}
                  <span class="dropdown-arrow">
                    <i class="fas fa-chevron-down" [class.rotated]="showAccountDropdown"></i>
                  </span>
                </button>
                
                <!-- Account Dropdown Menu -->
                <div class="account-dropdown-menu" [class.active]="showAccountDropdown">
                  <ul class="account-menu-list">
                    <li>
                      <a (click)="navigateToMyOrders()">
                        <i class="fas fa-shopping-bag"></i>
                        <span>{{ 'HEADER.MENU.MY_ORDERS' | translate }}</span>
                      </a>
                    </li>
                    
                    <li *ngIf="hasRole('consumer') && !hasRole('advertiser')">
                      <a (click)="navigateToSell()">
                        <i class="fas fa-store"></i>
                        <span>{{ 'HEADER.MENU.SELL' | translate }}</span>
                      </a>
                    </li>
                    
                    <li *ngIf="hasRole('advertiser')">
                      <a (click)="navigateToMySales()">
                        <i class="fas fa-chart-line"></i>
                        <span>{{ 'HEADER.MENU.MY_SALES' | translate }}</span>
                      </a>
                    </li>
                    
                    <li *ngIf="hasRole('advertiser')">
                      <a (click)="navigateToMyListings()">
                        <i class="fas fa-box"></i>
                        <span>{{ 'HEADER.MENU.MY_LISTINGS' | translate }}</span>
                      </a>
                    </li>
                    
                    <li class="divider"></li>
                    
                    <li>
                      <a (click)="logout()" class="logout-link">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>{{ 'HEADER.MENU.LOGOUT' | translate }}</span>
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
            </ng-container>
          </ng-container>
        </div>
      </div>
    </nav>